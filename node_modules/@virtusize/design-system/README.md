# Virtusize Design System

### Live:

[https://design-system.virtusize.com/](https://design-system.virtusize.com/)

### Project setup

1. Provide your personal access token to `.npmrc` file in the project root

2. Install package (we are using npm not yarn)

```bash
npm i
```

3. Start storybook server:

```bash
npm start
# visit: http://localhost:8080
```

Additionally for vscode users:

1. Switch typescript version to the workspace one (in right bottom corner)
2. Install `Prettier - Code formatter` (`esbenp.prettier-vscode`) extension

### Running test

```bash
npm test
```

### To publish the package to GitHub Package Repository

```bash
$ npm login --registry=https://npm.pkg.github.com
> Username: <github username>
> Password: <TOKEN - can be generated at https://github.com/settings/tokens>
> Email: <any registered github email>
```

### To install a local version of Design System as an npm package in your application

1. pull down the design system locally and install npm packages

```
$  git clone git@github.com:virtusize/design-system.git
$  npm install
```

2. move into your application directory and install your npm packages

```
$  cd PATH_TO_YOUR_APP
$  npm install
```

3. create a file, call it `import-local-design-system.sh` and save it under APP_ROOT/scripts/

```
$  touch APP_ROOT/scripts/import-local-design-system.sh
```

4. copy the below into that file:

```sh
#!/bin/bash
#
# Run from root directory of the project
#
# Usage:
# ./scripts/import-local-design-system.sh /path/to/design-system/
#
# Explanation:
# As Design System doesnt have yet its own official release procedure.
# This script will build DS locally and install it under node_modules/ so it will be seen as a normal npm package.
# Make sure you have Design System repo downloaded and follow its installation instructions first.


LOCAL_DESIGN_SYSTEM_PATH=$1

function main () {
  if [ -z "$LOCAL_DESIGN_SYSTEM_PATH" ]; then
    echo 'ERR! proper usage: ./scripts/import-local-design-system.sh /path/to/design-system/'
    exit 1
  fi

  build_design_system
  copy_package_to_local_node_modules
  unpack
  remove_parcel_cache
  remove_temps
}

########

function build_design_system () {
  (
    cd $LOCAL_DESIGN_SYSTEM_PATH
    npm run build
  )
}

function copy_package_to_local_node_modules () {
  npm pack $LOCAL_DESIGN_SYSTEM_PATH
  mv virtusize-design-system-*.tgz ./node_modules/
}

function unpack () {
  (
    cd ./node_modules/

    rm -rf ./@virtusize
    mkdir -p @virtusize/design-system

    tar -xvz -f ./virtusize-design-system-*.tgz
    mv package/* @virtusize/design-system
  )
}

function remove_parcel_cache () {
  rm -rf ./.cache
}

function remove_temps () {
  rm ./node_modules/virtusize-design-system-*.tgz
}

# go!
main
```

5. run the file to install your local version of Design System as an npm package

```
$  ./scripts/import-local-design-system.sh PATH_TO_LOCAL_DESIGN_SYTEM
```

6. To use Design System components in your app, import them into the files you want them

```js
// example
import { Button, Icon, Sheet } from "@virtusize/design-system";
```

#### NOTE

- if you install a new npm package after installing design system locally, you design system npm package will be overwritted and you will need to run step 5 again.
